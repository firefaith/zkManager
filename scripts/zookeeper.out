2014-10-28 15:27:48,202 - INFO  [main:QuorumPeerConfig@90] - Reading configuration from: /root/zookeeper-3.3.5/bin/../conf/zoo.cfg
2014-10-28 15:27:48,207 - INFO  [main:QuorumPeerConfig@310] - Defaulting to majority quorums
2014-10-28 15:27:48,217 - INFO  [main:QuorumPeerMain@119] - Starting quorum peer
2014-10-28 15:27:48,231 - INFO  [main:NIOServerCnxn$Factory@143] - binding to port 0.0.0.0/0.0.0.0:2181
2014-10-28 15:27:48,246 - INFO  [main:QuorumPeer@819] - tickTime set to 2000
2014-10-28 15:27:48,247 - INFO  [main:QuorumPeer@830] - minSessionTimeout set to -1
2014-10-28 15:27:48,247 - INFO  [main:QuorumPeer@841] - maxSessionTimeout set to -1
2014-10-28 15:27:48,248 - INFO  [main:QuorumPeer@856] - initLimit set to 5
2014-10-28 15:27:48,274 - INFO  [Thread-1:QuorumCnxManager$Listener@477] - My election bind port: /10.4.10.156:3888
2014-10-28 15:27:48,300 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumPeer@621] - LOOKING
2014-10-28 15:27:48,304 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@663] - New election. My id =  2, Proposed zxid = 0
2014-10-28 15:27:48,309 - WARN  [WorkerSender Thread:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:340)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:360)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:333)
	at java.lang.Thread.run(Thread.java:745)
2014-10-28 15:27:48,311 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 2 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 2 (n.sid), LOOKING (my state)
2014-10-28 15:27:48,313 - WARN  [WorkerSender Thread:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:340)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:360)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:333)
	at java.lang.Thread.run(Thread.java:745)
2014-10-28 15:27:48,514 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:48,515 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:48,517 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 400
2014-10-28 15:27:48,918 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:48,921 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:48,925 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 800
2014-10-28 15:27:49,727 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:49,728 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:49,734 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 1600
2014-10-28 15:27:51,336 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:51,337 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:51,340 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 3200
2014-10-28 15:27:54,542 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:54,548 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:27:54,553 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 6400
2014-10-28 15:28:00,954 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 1 at election address /10.4.11.2:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:28:00,956 - WARN  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumCnxManager@384] - Cannot open channel to 3 at election address /10.4.15.20:3888
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:117)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:371)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectAll(QuorumCnxManager.java:404)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:688)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:622)
2014-10-28 15:28:00,956 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FastLeaderElection@697] - Notification time out: 12800
2014-10-28 15:28:07,182 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 1 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 1 (n.sid), LOOKING (my state)
2014-10-28 15:28:08,187 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 2 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 1 (n.sid), LOOKING (my state)
2014-10-28 15:28:08,194 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 2 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 1 (n.sid), LOOKING (my state)
2014-10-28 15:28:08,200 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 2 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 1 (n.sid), LOOKING (my state)
2014-10-28 15:28:08,401 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:QuorumPeer@655] - LEADING
2014-10-28 15:28:08,409 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Leader@55] - TCP NoDelay set to: true
2014-10-28 15:28:08,415 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:zookeeper.version=3.3.5-1301095, built on 03/15/2012 20:09 GMT
2014-10-28 15:28:08,415 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:host.name=nn1
2014-10-28 15:28:08,415 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.version=1.7.0_67
2014-10-28 15:28:08,415 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.vendor=Oracle Corporation
2014-10-28 15:28:08,416 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.home=/usr/java/jdk1.7.0_67/jre
2014-10-28 15:28:08,416 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.class.path=/root/zookeeper-3.3.5/bin/../build/classes:/root/zookeeper-3.3.5/bin/../build/lib/*.jar:/root/zookeeper-3.3.5/bin/../zookeeper-3.3.5.x1.jar:/root/zookeeper-3.3.5/bin/../lib/log4j-1.2.15.jar:/root/zookeeper-3.3.5/bin/../lib/jline-0.9.94.jar:/root/zookeeper-3.3.5/bin/../src/java/lib/*.jar:/root/zookeeper-3.3.5/bin/../conf:.:/usr/java/jdk1.7.0_67/lib.tools.jar
2014-10-28 15:28:08,416 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
2014-10-28 15:28:08,416 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.io.tmpdir=/tmp
2014-10-28 15:28:08,417 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:java.compiler=<NA>
2014-10-28 15:28:08,417 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:os.name=Linux
2014-10-28 15:28:08,417 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:os.arch=amd64
2014-10-28 15:28:08,417 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:os.version=2.6.32-431.11.5.el6.ucloud.x86_64
2014-10-28 15:28:08,417 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:user.name=root
2014-10-28 15:28:08,418 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:user.home=/root
2014-10-28 15:28:08,418 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:Environment@97] - Server environment:user.dir=/opt/ZKManagerV2/scripts
2014-10-28 15:28:08,419 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:ZooKeeperServer@154] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /root/zookeeper/version-2 snapdir /root/zookeeper/version-2
2014-10-28 15:28:08,423 - INFO  [QuorumPeer:/0:0:0:0:0:0:0:0:2181:FileTxnSnapLog@254] - Snapshotting: 0
2014-10-28 15:28:08,445 - INFO  [LearnerHandler-/10.4.11.2:49809:LearnerHandler@249] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@1b1dd242
2014-10-28 15:28:08,445 - INFO  [LearnerHandler-/10.4.11.2:49809:LearnerHandler@273] - Synchronizing with Follower sid: 1 maxCommittedLog =0 minCommittedLog = 0 peerLastZxid = 0
2014-10-28 15:28:08,446 - INFO  [LearnerHandler-/10.4.11.2:49809:LearnerHandler@357] - Sending snapshot last zxid of peer is 0x0  zxid of leader is 0x100000000sent zxid of db as 0x0
2014-10-28 15:28:08,455 - WARN  [LearnerHandler-/10.4.11.2:49809:Leader@491] - Commiting zxid 0x100000000 from /10.4.10.156:2888 not first!
2014-10-28 15:28:08,456 - WARN  [LearnerHandler-/10.4.11.2:49809:Leader@493] - First is 0
2014-10-28 15:28:08,456 - INFO  [LearnerHandler-/10.4.11.2:49809:Leader@517] - Have quorum of supporters; starting up and setting last processed zxid: 4294967296
2014-10-28 15:28:14,599 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 0 (n.zxid), 1 (n.round), LOOKING (n.state), 3 (n.sid), LEADING (my state)
2014-10-28 15:28:26,694 - INFO  [WorkerReceiver Thread:FastLeaderElection@496] - Notification: 3 (n.leader), 0 (n.zxid), 2 (n.round), LOOKING (n.state), 3 (n.sid), LEADING (my state)
2014-10-28 15:28:26,721 - INFO  [LearnerHandler-/10.4.15.20:47516:LearnerHandler@249] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4fd00cff
2014-10-28 15:28:26,721 - INFO  [LearnerHandler-/10.4.15.20:47516:LearnerHandler@273] - Synchronizing with Follower sid: 3 maxCommittedLog =0 minCommittedLog = 0 peerLastZxid = 0
2014-10-28 15:28:26,722 - INFO  [LearnerHandler-/10.4.15.20:47516:LearnerHandler@357] - Sending snapshot last zxid of peer is 0x0  zxid of leader is 0x100000000sent zxid of db as 0x100000000
